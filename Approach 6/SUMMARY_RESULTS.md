# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–ª—É—á—à–µ–Ω–∏—è Logistic Regression –ø–∞–π–ø–ª–∞–π–Ω–∞

## üìä –§–∏–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### Department Classification

| –í–µ—Ä—Å–∏—è | Accuracy | Other recall | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|--------|----------|--------------|-------------|
| CSV validation | **97%** | 100% | –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ –æ–±—É—á–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö |
| –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è (—Å org) | 23% | 0% | –ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞ –∏–∑-–∑–∞ domain shift |
| –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è (—Ç–æ–ª—å–∫–æ position) | 23% | 0% | Domain shift –∏—Å–ø—Ä–∞–≤–ª–µ–Ω, –Ω–æ Other –Ω–µ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è |
| **–§–∏–Ω–∞–ª—å–Ω–∞—è (rules + ML + SMOTE)** | **66%** | **98%** | ‚úÖ –•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |

### Seniority Classification

| –í–µ—Ä—Å–∏—è | Accuracy | Director recall | Lead recall | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|--------|----------|-----------------|-------------|-------------|
| CSV validation | **92%** | 98% | 98% | –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ –æ–±—É—á–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö |
| –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è | 55% | 94% | 71% | Professional ‚Üí Senior –º–∞–ø–ø–∏–Ω–≥ –ø–æ–º–æ–≥ |
| **–§–∏–Ω–∞–ª—å–Ω–∞—è (rules + ML)** | **57%** | **87%** | **23%** | Director —Ö–æ—Ä–æ—à–æ, Lead –ø–ª–æ—Ö–æ |

---

## üîß –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### ‚úÖ 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω Domain Shift
**–ü—Ä–æ–±–ª–µ–º–∞:** CSV –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ "Analyst", JSON inference –Ω–∞ "Analyst Google Inc"
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `position` (–±–µ–∑ `organization`)
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω

### ‚úÖ 2. –û–±—Ä–∞–±–æ—Ç–∞–Ω Unknown Class
**–ü—Ä–æ–±–ª–µ–º–∞:** 34% –ø—Ä–æ—Ñ–∏–ª–µ–π –∏–º–µ—é—Ç `seniority="Professional"`, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ –æ–±—É—á–µ–Ω–∏–∏
**–†–µ—à–µ–Ω–∏–µ:** –ú–∞–ø–ø–∏–Ω–≥ `Professional ‚Üí Senior`
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Seniority accuracy +10%

### ‚úÖ 3. Rule-based —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è "Other"
**–ü—Ä–æ–±–ª–µ–º–∞:** CSV –∏–º–µ–µ—Ç 42 –ø—Ä–∏–º–µ—Ä–∞ "Other" (0.4%), JSON 326 –ø—Ä–∏–º–µ—Ä–æ–≤ (54%)
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏–ª–∏ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è CEO, CFO, –≤—Ä–∞—á–µ–π, –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä–æ–≤, etc.
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Other recall –≤—ã—Ä–æ—Å —Å 0% –¥–æ **98%**!

### ‚úÖ 4. SMOTE –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –∫–ª–∞—Å—Å–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∏–ª—å–Ω—ã–π –¥–∏—Å–±–∞–ª–∞–Ω—Å –∫–ª–∞—Å—Å–æ–≤ –≤ –æ–±—É—á–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏–º–µ–Ω–∏–ª–∏ SMOTE oversampling
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Department accuracy +40%

### ‚úÖ 5. –£–ª—É—á—à–µ–Ω–Ω—ã–µ TfidfVectorizer –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- `ngram_range=(1,3)` –≤–º–µ—Å—Ç–æ (1,2) - –¥–æ–±–∞–≤–∏–ª–∏ —Ç—Ä–∏–≥—Ä–∞–º–º—ã
- `min_df=1` –≤–º–µ—Å—Ç–æ 2 - –º–µ–Ω—å—à–µ –æ—Ç—Å–µ—á–∫–∞ –¥–ª—è —Ä–µ–¥–∫–∏—Ö —Å–ª–æ–≤
- `max_features=100_000` –≤–º–µ—Å—Ç–æ 50_000
- `sublinear_tf=True` - –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è TF —à–∫–∞–ª–∞

### ‚úÖ 6. Confidence-based fallback
**–õ–æ–≥–∏–∫–∞:** –ï—Å–ª–∏ confidence < threshold ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º "Other" –¥–ª—è department
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –¥–æ–ª–∂–Ω–æ—Å—Ç–µ–π

---

## ‚ö†Ô∏è –û—Å—Ç–∞–≤—à–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã

### 1. Lead vs Management confusion (–∫—Ä–∏—Ç–∏—á–Ω–æ)
**–ü—Ä–æ–±–ª–µ–º–∞:** 40% Lead-–¥–æ–ª–∂–Ω–æ—Å—Ç–µ–π –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ Management
**–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–æ–≤–æ "Manager" –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ ‚Üí –º–æ–¥–µ–ª—å –¥—É–º–∞–µ—Ç "Management"

**–ü—Ä–∏–º–µ—Ä—ã:**
- "Technical Customer Service **Manager**" ‚Üí Management (–¥–æ–ª–∂–Ω–æ Lead)
- "District Sales **manager**" ‚Üí Management (–¥–æ–ª–∂–Ω–æ Lead)
- "Shop **Manager**" ‚Üí Management (–¥–æ–ª–∂–Ω–æ Lead)

**–†–µ—à–µ–Ω–∏–µ:**
```python
# –£–ª—É—á—à–∏—Ç—å rule-based –¥–ª—è Lead:
if 'manager' in text and not any(kw in text for kw in ['general manager', 'senior manager', 'managing director']):
    return "Lead"  # –Ω–µ Management!
```

### 2. IT/Marketing/Sales recall –Ω–∏–∑–∫–∏–π
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–µ–ª—å —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç "Other" (recall IT=17%, Marketing=33%, Sales=41%)

**–ü—Ä–∏—á–∏–Ω–∞:**
- Confidence threshold —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π (0.72)
- Rule-based —Å–∏—Å—Ç–µ–º–∞ —Å–ª–∏—à–∫–æ–º —à–∏—Ä–æ–∫–∞—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–Ω–∏–∑–∏—Ç—å confidence threshold –¥–æ 0.5
2. –°—É–∑–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è "Other" (–∏—Å–∫–ª—é—á–∏—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏)
3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è IT/Sales/Marketing:
   ```python
   if any(kw in text for kw in ['software', 'developer', 'engineer', 'it ', 'system']):
       return "Information Technology"
   ```

### 3. Distribution Shift
**–ü—Ä–æ–±–ª–µ–º–∞:**
- CSV: Marketing 42%, Sales 33%, Other 0.4%
- JSON: Other 54%, IT 12%, Sales 8%, Marketing 4%

**–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –°–æ–±—Ä–∞—Ç—å –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è "Other" –≤ CSV –æ–±—É—á–µ–Ω–∏–∏

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è

### –ë—ã—Å—Ç—Ä—ã–µ –ø–æ–±–µ–¥—ã (1-2 –¥–Ω—è)

#### 1. –£–ª—É—á—à–∏—Ç—å rule-based –¥–ª—è Manager vs Management
```python
def rule_based_seniority(text):
    # Check for high-level management first
    if any(kw in text for kw in ['general manager', 'senior manager', 'managing director']):
        return "Management"

    # Regular managers ‚Üí Lead
    if 'manager' in text:
        return "Lead"

    # Rest of the rules...
```
**–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç:** Lead recall 23% ‚Üí 50% (+27%)

#### 2. –î–æ–±–∞–≤–∏—Ç—å department-specific –ø—Ä–∞–≤–∏–ª–∞
```python
def rule_based_department(text):
    # IT
    if any(kw in text for kw in ['software', 'developer', 'engineer', 'programmer',
                                   'it ', 'system', 'architect', 'devops']):
        return "Information Technology"

    # Sales
    if any(kw in text for kw in ['sales', 'account manager', 'business development',
                                   'vertrieb', 'verkauf']):
        return "Sales"

    # Marketing
    if any(kw in text for kw in ['marketing', 'communication', 'brand', 'content']):
        return "Marketing"

    # Other (existing rules)
    ...
```
**–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç:** IT recall 17% ‚Üí 60%, Sales recall 41% ‚Üí 70%

#### 3. –¢—é–Ω–∏–Ω–≥ confidence threshold
–¢–µ–∫—É—â–∏–π: 0.72 (—Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π)
–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å: 0.4 - 0.6
**–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç:** +5-10% recall –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤

---

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (1-2 –Ω–µ–¥–µ–ª–∏)

#### 4. Feature Engineering
–î–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏:
- Position length (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤)
- –ù–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ (senior, lead, manager, director, etc.)
- Organization type (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- Char n-grams (–¥–ª—è –æ–ø–µ—á–∞—Ç–æ–∫ –∏ multilingual)

**–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç:** +5-10% accuracy

#### 5. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏
- XGBoost (–æ–±—ã—á–Ω–æ –ª—É—á—à–µ –¥–ª—è structured data)
- Random Forest (robust –∫ outliers)
- Ensemble (voting classifier)

**–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç:** +5-15% accuracy

#### 6. Multilingual embeddings
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- multilingual-BERT
- sentence-transformers (paraphrase-multilingual)
- FastText multilingual embeddings

**–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç:** +10-20% accuracy

---

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (1+ –º–µ—Å—è—Ü)

#### 7. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è "Other"
**–¶–µ–ª—å:** –£–≤–µ–ª–∏—á–∏—Ç—å "Other" –≤ CSV —Å 42 –¥–æ 1000+ –ø—Ä–∏–º–µ—Ä–æ–≤
**–ò—Å—Ç–æ—á–Ω–∏–∫–∏:**
- –í—Ä—É—á–Ω—É—é –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å CEOs, CFOs, –≤—Ä–∞—á–µ–π, –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (active learning)
- Crowdsourcing

**–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç:** +15-25% department accuracy

#### 8. Hierarchical Classification
```
Level 1: Technical vs Non-technical vs Executive
Level 2: IT / Marketing / Sales / etc.
Level 3: Seniority
```

**–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç:** +10-20% accuracy

#### 9. –ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–µ —Ñ–∏—á–∏
–ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã:
- Company size
- Industry
- Job description text (–Ω–µ —Ç–æ–ª—å–∫–æ title)
- Skills

**–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç:** +15-30% accuracy

---

## üìà –ü—Ä–æ–µ–∫—Ü–∏—è —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

| –≠—Ç–∞–ø | Department Accuracy | Seniority Accuracy | –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã |
|------|---------------------|-------------------|-------------------|
| **–¢–µ–∫—É—â–∏–π** | **66%** | **57%** | - |
| + –ë—ã—Å—Ç—Ä—ã–µ –ø–æ–±–µ–¥—ã | **75-80%** | **70-75%** | 1-2 –¥–Ω—è |
| + –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ | **82-87%** | **78-83%** | 1-2 –Ω–µ–¥–µ–ª–∏ |
| + –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ | **88-94%** | **85-92%** | 1+ –º–µ—Å—è—Ü |

---

## üéì –í—ã–≤–æ–¥—ã

### –ü–æ—á–µ–º—É –±—ã–ª —Ç–∞–∫–æ–π —Ä–∞–∑—Ä—ã–≤ –º–µ–∂–¥—É CSV (92-97%) –∏ JSON (23-57%)?

1. **Domain Shift:** –†–∞–∑–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (position vs position+org)
2. **Unknown Classes:** "Professional" –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –≤ –æ–±—É—á–µ–Ω–∏–∏
3. **Distribution Shift:** "Other" 0.4% –≤ CSV vs 54% –≤ JSON
4. **Data Quality:** CSV - —á–∏—Å—Ç—ã–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏, JSON - real-world messy data

### –ß—Ç–æ –ø–æ–º–æ–≥–ª–æ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ?

1. **Rule-based –¥–ª—è "Other"** ‚Üí +43% accuracy (—Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ!)
2. **SMOTE** ‚Üí –ø–æ–º–æ–≥–ª–æ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã
3. **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞** ‚Üí –∏—Å–ø—Ä–∞–≤–∏–ª–∞ domain shift
4. **Professional –º–∞–ø–ø–∏–Ω–≥** ‚Üí +10% seniority accuracy

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫):

1. ‚úÖ –£–ª—É—á—à–∏—Ç—å rule-based –¥–ª—è Manager/Lead (1 —á–∞—Å —Ä–∞–±–æ—Ç—ã, +27% Lead recall)
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å department –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è IT/Sales/Marketing (2 —á–∞—Å–∞, +30-40% recall)
3. ‚è≥ –¢—é–Ω–∏–Ω–≥ threshold (30 –º–∏–Ω—É—Ç, +5% overall)
4. ‚è≥ Feature engineering (1-2 –¥–Ω—è, +5-10%)
5. ‚è≥ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å XGBoost (1 –¥–µ–Ω—å, +5-15%)

**–†–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞—á–∞—Ç—å —Å –ø—É–Ω–∫—Ç–æ–≤ 1-2** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π ROI –ø—Ä–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç–∞—Ö –≤—Ä–µ–º–µ–Ω–∏.
